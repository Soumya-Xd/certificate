<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Get The Certificate</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
    <style>
body {
    font-family: Arial, sans-serif;
    margin: 0;
    padding: 0;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    height: 100vh;
    background-image: url('23.gif'); /* Path to your image */
    background-size: cover; /* Ensures the image covers the entire screen */
    background-position: center center; /* Keeps the image centered */
    background-attachment: fixed; /* Makes the background stay fixed while scrolling */
    animation: backgroundAnimation 20s infinite alternate; /* If you want to animate the image, adjust the duration */
}

@keyframes backgroundAnimation {
    0% {
        background-position: center center; /* Start at the center */
    }
    50% {
        background-position: top center; /* Move the image up */
    }
    100% {
        background-position: bottom center; /* Move the image down */
    }
}




        .container {
            background: #0606061f;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
            width: 90%;
            max-width: 500px;
        }

        h1 {
    text-align: center;
    margin-bottom: 20px;
    font-size: 1.8em;
    color: transparent; /* Make the text color transparent */
    background: linear-gradient(45deg, #ff6a00, #ffcc00, #ff0066); /* Gradient applied to background */
    background-size: 400% 400%; /* Set the size of the gradient */
    -webkit-background-clip: text; /* Clip the gradient to the text (for Webkit browsers) */
    background-clip: text; /* Clip the gradient to the text */
    animation: gradientAnimation 5s ease infinite; /* Apply the animation */
}

@keyframes gradientAnimation {
    0% {
        background-position: 0% 50%;
    }
    50% {
        background-position: 100% 50%;
    }
    100% {
        background-position: 0% 50%;
    }
}


        label {
            font-weight: bold;
            display: block;
            margin: 10px 0 5px;
        }

        input, select {
            width: 100%;
            padding: 10px;
            margin-bottom: 15px;
            border: 1px solid #ccc;
            border-radius: 5px;
        }

/* From Uiverse.io by satyamchaudharydev */ 
.button {
  position: relative;
  transition: all 0.3s ease-in-out;
  box-shadow: 0px 10px 20px rgba(0, 0, 0, 0.2);
  padding-block: 0.5rem;
  padding-inline: 1.25rem;
  background-color: rgb(0 107 179);
  border-radius: 9999px;
  display: flex;
  align-items: center;
  justify-content: center;
  color: #ffff;
  gap: 10px;
  font-weight: bold;
  border: 3px solid #ffffff4d;
  outline: none;
  overflow: hidden;
  font-size: 15px;
  cursor: pointer;
}

.icon {
  width: 24px;
  height: 24px;
  transition: all 0.3s ease-in-out;
}

.button:hover {
  transform: scale(1.05);
  border-color: #fff9;
}

.button:hover .icon {
  transform: translate(4px);
}

.button:hover::before {
  animation: shine 1.5s ease-out infinite;
}

.button::before {
  content: "";
  position: absolute;
  width: 100px;
  height: 100%;
  background-image: linear-gradient(
    120deg,
    rgba(255, 255, 255, 0) 30%,
    rgba(255, 255, 255, 0.8),
    rgba(255, 255, 255, 0) 70%
  );
  top: 0;
  left: -100px;
  opacity: 0.6;
}

@keyframes shine {
  0% {
    left: -100px;
  }

  60% {
    left: 100%;
  }

  to {
    left: 100%;
  }
}

        footer {
            text-align: center;
            margin-top: 20px;
            color: white;
            font-size: 0.9em;
        }
        .sponsor {
    text-align: center;
    font-size: 1.2em;
    margin-top: 20px;
    font-weight: bold;
    text-transform: uppercase;
    color: transparent; /* Make text color transparent so the gradient shows */
    background: linear-gradient(45deg, #ff6a00, #ffcc00, #ff0066); /* Gradient applied to background */
    background-size: 400% 400%; /* Set gradient size */
    -webkit-background-clip: text; /* Clip background to text (for webkit browsers) */
    background-clip: text; /* Clip background to text */
    animation: gradientAnimation 5s ease infinite; /* Animation */
}

.sponsor a {
    text-decoration: none;
    color: inherit; /* Inherit the gradient color from the parent */
}

@keyframes gradientAnimation {
    0% {
        background-position: 0% 50%;
    }
    50% {
        background-position: 100% 50%;
    }
    100% {
        background-position: 0% 50%;
    }
}


    </style>
</head>
<body>
    <div class="container">
        <h1>VBC Certificate Generator</h1>
        <form id="certificateForm">
            <label for="certificateNo">Certificate Sl. No.:</label>
            <input type="text" id="certificateNo" name="certificateNo"placeholder="(eg--SL/1522222)" required>

            <label for="dateOfIssue">Date of Issue:</label>
            <input type="date" id="dateOfIssue" name="dateOfIssue" required>

            <label for="participantName">Participant Name:</label>
            <input type="text" id="participantName" name="participantName" required>

            <label for="relation">Son/Daughter/Wife of:</label>
            <input type="text" id="relation" name="relation" required>

            <label for="course">Course Name:</label>
            <input type="text" id="course" name="course" placeholder="Enter Course Name" required>

            <label for="duration">Duration:</label>
            <input type="text" id="duration" name="duration" placeholder="Enter Duration (eg--1.1.2023 to 2.1.2024)" required>

            <label for="grade">Grade:</label>
            <input type="text" id="grade" name="grade" placeholder="Enter Grade" required>
            <label for="photo">Upload Passport Size Photo:</label>
            <input type="file" id="photo" name="photo" accept="image/*" required>
            <button class="button" type="button" onclick="generatePDF()">
                Download Certificate
                <svg class="icon" viewBox="0 0 24 24" fill="currentColor">
                  <path
                    fill-rule="evenodd"
                    d="M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25zm4.28 10.28a.75.75 0 000-1.06l-3-3a.75.75 0 10-1.06 1.06l1.72 1.72H8.25a.75.75 0 000 1.5h5.69l-1.72 1.72a.75.75 0 101.06 1.06l3-3z"
                    clip-rule="evenodd"
                  ></path>
                </svg>
              </button>
              
        </form>
    </div>
    <div class="sponsor">
        Sponsored by <a href="https://soumya-xd.github.io/ds/" target="_blank">Redalpha</a>
    </div>
    
    <footer>
        &copy; 2024 National Yuva Foundation. All rights reserved.Created By Redalpha
    </footer>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.4.0/jspdf.umd.min.js"></script>
    <script>
    async function generatePDF() {
    const { jsPDF } = window.jspdf;

    // Fetch all input values
    const certificateNo = document.getElementById('certificateNo').value;
    const dateOfIssue = document.getElementById('dateOfIssue').value;
    const participantName = document.getElementById('participantName').value;
    const relation = document.getElementById('relation').value;
    const course = document.getElementById('course').value;
    const duration = document.getElementById('duration').value;
    const grade = document.getElementById('grade').value;
    
    // Get the photo file
    const photoInput = document.getElementById('photo');
    const photoFile = photoInput.files[0];

    if (!photoFile) {
        alert("Please upload a photo.");
        return;
    }

    const reader = new FileReader();
    reader.onload = function(event) {
        const photoDataUrl = event.target.result;

        // Initialize jsPDF
        const doc = new jsPDF('landscape', 'px', [800, 600]);

        // Load the image as a base64 string for background
        const backgroundImage = '2.png'; // Ensure correct file path
        const img = new Image();
        img.src = backgroundImage;
        img.onload = function () {
            // Add the background image
            doc.addImage(img, 'PNG', 0, 0, 800, 600);

            // Add the participant's photo (passport size) on the right side
            const photoWidth = 80; // Set the width of the photo
            const photoHeight = 100; // Set the height of the photo
            const photoX = 700; // X position on the right side
            const photoY = 110; // Y position for photo

            // Add the photo to the PDF
            doc.addImage(photoDataUrl, 'JPEG', photoX, photoY, photoWidth, photoHeight);

            // Draw a black border around the photo
            const borderMargin = 5; // Margin around the photo for the border
            doc.setLineWidth(2); // Set the border thickness
            doc.setDrawColor(0, 0, 0); // Black color for the border
            doc.rect(photoX - borderMargin, photoY - borderMargin, photoWidth + 2 * borderMargin, photoHeight + 2 * borderMargin);

            // Customize and add certificate number
            doc.setFont("Helvetica", "bold");
            doc.setFontSize(18);
            doc.setTextColor(0, 0, 0); // Blue color
            doc.text(` ${certificateNo}`, 101, 28.5);

            // Customize and add date of issue
            doc.setFont("Times", "bold");
            doc.setFontSize(17);
            doc.setTextColor(0, 0, 0); // Maroon color
            doc.text(` ${dateOfIssue}`, 678, 34);

            doc.setFont("Helvetica", "bolditalic");
            doc.setFontSize(36); // Increase the font size
            doc.setTextColor(0, 0, 128); // Navy blue color
            doc.text(` ${participantName}`, 360, 229);

            // Customize and add relation
            doc.setFont("Helvetica", "bolditalic");
            doc.setFontSize(30);
            doc.setTextColor(0, 0, 0); // Black color
            doc.text(` ${relation}`, 380, 265);

            // Customize and add course
            doc.setFont("Times", "bold");
            doc.setFontSize(24);
            doc.setTextColor(255, 0, 0); // Red color

            const courseText = `${course}`; // The course name input

            const lineWidth = 500 - 40; // Adjust the width to your page, minus some margin (e.g., 40 px)

            const courseLines = doc.splitTextToSize(courseText, lineWidth); // Split text to fit within the specified width

            let x = 220; // Starting position (left margin)
            let y = 320; // Starting position (vertical position)

            courseLines.forEach((line) => {
                doc.text(line, x, y); // Print each line
                y += 20;
                x += 35; // Move to the next line after printing
            });

            // Customize and add duration
            doc.setFont("Times", "bold");
            doc.setFontSize(22);
            doc.setTextColor(0, 0, 0); // Blue color
            doc.text(`Months Duration: ${duration}`, 275, 360);

            // Customize and add grade
            doc.setFont("Helvetica", "bold");
            doc.setFontSize(22);
            doc.setTextColor(0, 0, 0); // Purple color
            doc.text(`With A Grade: ${grade}`, 335, 380);

            // Save the PDF
            doc.save(`${participantName}_Certificate.pdf`);
        };

        img.onerror = function () {
            alert("Failed to load the background image. Please check the file path.");
        };
    };

    reader.readAsDataURL(photoFile); // Read the file as base64 to embed in the PDF
}


    </script>
</body>
</html>
